@namespace MudBlazor.EnhanceChart 
@inherits MudEnhancedChartLegendBase

<MudPaper Width="200px">
    <MudList Clickable="true">
        @if(LegendInfo != null && LegendInfo.Groups != null && LegendInfo.Groups.Any())
        { 
            @foreach (var group in LegendInfo.Groups)
            {
                <MudListItem Icon="@Icons.Material.Filled.BarChart" Text="@group.name" InitiallyExpanded="true">
                    <NestedList>
                        @foreach (var series in group.series)
                        {
                            <MudListItem @key="series.Series.GetHashCode()"
                                         OnClick="@(() => ToggleEnabledStateOfSeries(series))" 
                                         @onmouseover="@(() => DeactiveAllOtherSeries(series))" 
                                         @onmouseout="@(() => ActivedAllSeries(series))" 
                                         Icon="@Icons.Material.Filled.ShowChart" Style="@($"color:{series.Color};text-decoration: {(series.IsEnabled == false ? "line-through" : "inherit")}  ")" 
                                         Text="@series.Name" Tag="@series"></MudListItem>
                        }
                        </NestedList>
                 </MudListItem>
                 <MudDivider />
            }
        }
    </MudList>
</MudPaper>
    @code { }
