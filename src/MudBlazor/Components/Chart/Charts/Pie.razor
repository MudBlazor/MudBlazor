@namespace MudBlazor.Charts
@using System.Globalization
@using MudBlazor.Charts.SVG.Models
@inherits MudChartBase

<svg @attributes="UserAttributes" class="mud-chart-pie" width="@MudChartParent?.Width" height="@MudChartParent?.Height" viewBox="-1 -1 2 2" style="transform: rotate(-90deg);">
    <Filters />

    @foreach (var item in _paths.ToList())
    {
        <path
            @onmouseout="args => OnMouseOut(args, item)"
            @onmouseover="args => OnMouseHover(args, item)"
            @onmousemove="args => OnMouseMove(args, item)"
            @onclick="() => SelectedIndex = item.Index"
            class="mud-chart-serie"
            fill="@MudChartParent.ChartOptions.ChartPalette.GetValue(item.Index % ChartOptions.ChartPalette.Length)"
            d="@item.Data">
            
        </path>
	}

	@MudChartParent?.CustomGraphics
</svg>
<Legend Data="@_legends"></Legend>

@if (TooltipVisible)
{
    @_tooltip
}
