@namespace MudBlazor
@inherits ComponentBase
@typeparam T
@using Microsoft.AspNetCore.Components.Web.Virtualization 

@if (Enabled)
{
    if (ItemsProvider != null)
    {
        <Virtualize @ref="@_virtualizeContainerReference" ItemsProvider="@ItemsProvider" Context="item" OverscanCount="@OverscanCount" ItemSize="@ItemSize" SpacerElement="@SpacerElement">
            <ChildContent>
                @if (ChildContent is not null)
                {
                    @ChildContent(item)
                }
            </ChildContent>

            <Placeholder>
                @Placeholder
            </Placeholder>
        </Virtualize>
    }
    else
    {
        <Virtualize @ref="@_virtualizeContainerReference" Items="@Items" Context="item" OverscanCount="@OverscanCount" ItemSize="@ItemSize" SpacerElement="@SpacerElement">
            <ChildContent>
                @if (ChildContent is not null)
                {
                    @ChildContent(item)
                }
            </ChildContent>

            <Placeholder>
                @Placeholder
            </Placeholder>
        </Virtualize>
    }
}
else
{
    @foreach (var item in Items ?? Array.Empty<T>())
    {
        if (ChildContent is not null)
        {
            @ChildContent(item)
        }
    }
}