@namespace MudBlazor
@inherits MudComponentBase

<div @attributes="UserAttributes" id="@_elementId" class="mud-dialog-container @Position" @onmousemove:preventDefault @onmousemove="Drag" @onmouseup="StopDragging">
    <MudOverlay Visible="true" OnClick="HandleBackgroundClick" Class="mud-overlay-dialog" DarkBackground="true" />
    <div id="_@Id.ToString("N")" role="dialog" class="@Classname" style="@InternalStyle">
        @if (!NoHeader)
        {
            <div class="@InternalClass" @onmousedown:preventDefault @onmousedown="StartDragging" @ref="_dialogTitle">
                @if (TitleContent == null)
                {
                    <MudText Typo="Typo.h6">@Title</MudText>
                }
                else
                {
                    @TitleContent
                }
                @if (CloseButton)
                {
                    <MudIconButton aria-label="close" Icon="@CloseIcon" @onclick="Cancel" class="mud-button-close"/>
                }
            </div>
         }
        <CascadingValue Value="this" IsFixed="true">
            @Content
        </CascadingValue>
    </div>
</div>
