@namespace MudBlazor
@inherits MudComponentBase

<div @attributes="UserAttributes" class="@Classname" disabled="@Disabled" style="@Style">
    <button @onclick="ExpandedToggleAsync"
            tabindex="@ButtonTabIndex"
            class="@ButtonClassname"
            aria-controls="@_navigationContext.MenuId"
            aria-expanded="@_navigationContext.Expanded">
        @if (!string.IsNullOrEmpty(Icon))
        {
            <MudIcon Icon="@Icon" Color="@IconColor" Class="@IconClassname" />
        }
        <div Class="mud-nav-link-text">
            @Title
        </div>
        @if (!HideExpandIcon)
        {
            <MudIcon Icon="@ExpandIcon" Class="@ExpandIconClassname" />
        }
    </button>
    <MudCollapse aria-hidden="@(_navigationContext.Expanded is false)"
                 Expanded="@Expanded"
                 MaxHeight="@MaxHeight"
                 Class="mud-navgroup-collapse">
        <CascadingValue Value="@_navigationContext">
            <MudNavMenu>
                @ChildContent
            </MudNavMenu>
        </CascadingValue>
    </MudCollapse>
</div>