@namespace MudBlazor
@inherits MudBaseSelectItem
@using Microsoft.AspNetCore.Components.Routing

<div @attributes="UserAttributes" class="@Classname" disabled="@Disabled" style="@Style">
    @if (!OnClick.HasDelegate && Command == null)
    { 
        <NavLink @onclick="@HandleNavigation" 
                 class="@LinkClassname" 
                 @attributes="@Attributes"
                 Match="@Match" 
                 ActiveClass="@ActiveClass">
            @if (string.IsNullOrEmpty(Icon))
            {
                <MudAvatar Color="@IconColor" Class="@IconClassname" Size="Size.Small">@(Text?.FirstOrDefault() ?? ' ')</MudAvatar>
            }
            else
            {
                <MudIcon Icon="@Icon" Color="@IconColor" Class="@IconClassname"/>
            }

            <div class="mud-nav-link-text">
                @ChildContent
            </div>
        </NavLink>
    }
    else
    {
        <div @onclick="OnClickHandler"
             class="@LinkClassname"
             ActiveClass="@ActiveClass">
            @if (string.IsNullOrEmpty(Icon))
            {
                <MudAvatar Color="@IconColor" Class="@IconClassname" Size="Size.Small">@(Text?.FirstOrDefault() ?? ' ')</MudAvatar>
            }
            else
            {
                <MudIcon Icon="@Icon" Color="@IconColor" Class="@IconClassname" />
            }

            <div class="mud-nav-link-text">
                @ChildContent
            </div>
        </div>
    }
</div>