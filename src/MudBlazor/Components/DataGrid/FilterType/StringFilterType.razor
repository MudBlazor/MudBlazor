@namespace MudBlazor
@typeparam T
@inherits FilterTypeBase<T>

@if (CanBeMapped())
{
    <MudTextField T="string"
                  Value="@FilterLazy.Value._valueString"
                  ValueChanged="@FilterLazy.Value.StringValueChanged"
                  FullWidth="true"
                  Label="Value"
                  Placeholder="Filter value"
                  Margin="@Margin.Dense"
                  Immediate="true"
                  Class="filter-input"/>
}

@code {
#nullable enable

    public override bool CanBeMapped()
    {
        return FilterDefinitionLazy.Value.FieldType.IsString && !(FilterDefinitionLazy.Value.Operator ?? "").EndsWith("empty");
    }
}
