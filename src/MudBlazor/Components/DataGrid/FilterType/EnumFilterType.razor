@namespace MudBlazor
@using MudBlazor.Extensions
@typeparam T
@inherits FilterTypeBase<T>
@attribute [ExcludeComponentFromApiDocs]

@if (CanBeMapped())
{
    <MudSelect T="Enum"
               Value="@FilterLazy.Value._valueEnum"
               ValueChanged="@FilterLazy.Value.EnumValueChanged"
               FullWidth="true"
               Dense="true"
               Margin="@Margin.Dense"
               Class="filter-input">
        <MudSelectItem T="Enum"
                       Value="@(null)"/>
        @foreach (var item in EnumExtensions.GetSafeEnumValues(FilterDefinitionLazy.Value.dataType))
        {
            <MudSelectItem T="Enum" Value="@(item)">@item</MudSelectItem>
        }
    </MudSelect>
}

@code {
#nullable enable

    public override bool CanBeMapped()
    {
        return FilterDefinitionLazy.Value.FieldType.IsEnum;
    }
}
