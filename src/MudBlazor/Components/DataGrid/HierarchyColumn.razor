@namespace MudBlazor
@inherits MudComponentBase
@typeparam T

<TemplateColumn T="T" Tag="@("hierarchy-column")" Sortable="false" Resizable="false" ShowColumnOptions="false" HeaderStyle="width:0%"
    Filterable="false" Editable="false" DragAndDropEnabled="@DragAndDropEnabled">
    <CellTemplate>
        @{
            var isOpen = context.OpenHierarchies.Contains(context.Item);
            var isDisabled = ButtonDisabledFunc.Invoke(context.Item);

            if (!(isDisabled && HideDisabledIcons))
            {
                <MudIconButton
                    Class="ma-n3 pa-1"
                    Color="@(isOpen ? OpenIconColor : ClosedIconColor)"
                    Icon="@(isOpen ? OpenIcon : ClosedIcon)"
                    OnClick="@context.Actions.ToggleHierarchyVisibilityForItemAsync"
                    Size="@((isOpen ? OpenIconSize : ClosedIconSize) ?? IconSize)"
                    Disabled="@isDisabled"
                    Variant="@(isOpen ? OpenIconVariant : ClosedIconVariant)"/>
            }
        }
    </CellTemplate>
</TemplateColumn>
