@page "/components/data-display/Icons"
@using System.Reflection

<DocsPage>
    <Container>
        <Typography Typo="Typo.h3">Icons</Typography>
        <Typography Typo="Typo.h5">Guidance and suggestions for using icons with MudBlazor.</Typography>
    </Container>
    <Container>
        <Typography Typo="Typo.h4">Material Icons</Typography>
        @if (MudIconsMaterial != null)
        {
            <DocsIcons List="MudIconsMaterial" />
        }
        else
        {
            <Typography Typo="Typo.h5" Align="Align.Center">Loading...</Typography>
        }
    </Container>
    <Container>
        <Typography Typo="Typo.h4">Custom Icons</Typography>
        <DocsIcons List="MudIconsCustom" />
    </Container>
</DocsPage>

@code {

    List<MudIcons> MudIconsMaterial;
    List<MudIcons> MudIconsCustom;


    protected override async Task OnInitializedAsync()
    {
        MudIconsMaterial = GetIconsMaterial();
        MudIconsCustom = GetIconsCustom();
    }

    public List<MudIcons> GetIconsMaterial()
    {
        var result = new List<MudIcons>();
        var props = typeof(Icons.Material).GetProperties(BindingFlags.Public|BindingFlags.Static|BindingFlags.FlattenHierarchy);

        foreach (var prop in props)
        {
            result.Add(new MudIcons(prop.Name, prop.GetValue(null).ToString()));
        }
        return result;
    }

    public List<MudIcons> GetIconsCustom()
    {
        var result = new List<MudIcons>();
        var props = typeof(Icons.Custom).GetProperties(BindingFlags.Public | BindingFlags.Static | BindingFlags.FlattenHierarchy);

        foreach (var prop in props)
        {
            result.Add(new MudIcons(prop.Name, prop.GetValue(null).ToString()));
        }
        return result;
    }
}
