@namespace MudBlazor.Docs.Examples
@using System;
@using System.Threading;

@implements IDisposable
    
<MudProgressCircular Color="Color.Primary" Value="@Value" ShowPercentage="true" />
<MudProgressCircular Color="Color.Primary" Value="@Value" ShowPercentage="true" Size="Size.Large" PercentageTypo="Typo.subtitle1" />
<MudProgressCircular Color="Color.Primary" Value="@Value" ShowPercentage="true" Size="Size.Large">
    <PercentageContent>
        <MudText Typo="Typo.h6">@context</MudText>
    </PercentageContent>
</MudProgressCircular>

@code {
	public int Value { get; set; }

	public async void SimulateProgress()
	{
		Value = 0;
		do
		{
			if (_disposed)
			{
				return;
			}

			Value += 4;
			StateHasChanged();
			await Task.Delay(500);

		} while (Value < 100);

		SimulateProgress();
	}

	protected override void OnInitialized() => SimulateProgress();

	bool _disposed;
	public void Dispose() => _disposed = true;

}