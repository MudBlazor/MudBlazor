@page "/api/{TypeName}"
@using MudBlazor.Docs.Components
@using MudBlazor.Docs.Extensions
@using Services.XmlDocs
@namespace MudBlazor.Docs.Pages.Api

<DocsPage>
    @if (IsLoading)
    {
        <DocsPageContent>
            <MudProgressLinear Indeterminate="true" />
        </DocsPageContent>
    }
    else if (Type != null)
    {
        <ApiBreadcrumbs Type="@Type" />

        <DocsPageHeader Title="@Title" />
        <DocsPageContent>

            @if (TypeComments != null)
            {
                <ApiText Comments="@TypeComments" />
            }

            @if (Type.IsSubclassOf(typeof(MudComponentBase)))
            {
                <MudAlert Severity="Severity.Info" Class="mt-6">
                    For examples and details on the usage of this component, visit the example page: <MudLink Href="@($"/components/{Type.Name}")" Typo="Typo.inherit">@Type.GetFriendlyName()</MudLink>
                </MudAlert>
            }

            @if (!Type.IsEnum)
            {
                <DocsPageSection>
                    <SectionHeader Title="Properties" />
                    <SectionContent Outlined="true" IsApiSection="true">
                        <MudGrid Class="pa-0">
                            <MudItem xs="12">
                                <ApiMemberTable Mode="@ApiMemberType.Properties" TypeName="@TypeName" Members="@Properties" />
                            </MudItem>
                        </MudGrid>
                    </SectionContent>
                </DocsPageSection>

                <DocsPageSection>
                    <SectionHeader Title="Methods" />
                    <SectionContent Outlined="true" IsApiSection="true">
                        <MudGrid Class="pa-0">
                            <MudItem xs="12">
                                <ApiMemberTable Mode="@ApiMemberType.Methods" TypeName="@TypeName" Members="@Methods" />
                            </MudItem>
                        </MudGrid>
                    </SectionContent>
                </DocsPageSection>
            }

            <DocsPageSection>
                <SectionHeader Title="Fields" />
                <SectionContent Outlined="true" IsApiSection="true">
                    <MudGrid Class="pa-0">
                        <MudItem xs="12">
                            <ApiMemberTable Mode="@ApiMemberType.Fields" TypeName="@TypeName" Members="@Fields" />
                        </MudItem>
                    </MudGrid>
                </SectionContent>
            </DocsPageSection>

            @if (!Type.IsEnum)
            {
                <DocsPageSection>
                    <SectionHeader Title="Events" />
                    <SectionContent Outlined="true" IsApiSection="true">
                        <MudGrid Class="pa-0">
                            <MudItem xs="12">
                                <ApiMemberTable Mode="@ApiMemberType.Events" TypeName="@TypeName" Members="@Events" />
                            </MudItem>
                        </MudGrid>
                    </SectionContent>
                </DocsPageSection>

                <DocsPageSection>
                    <SectionHeader Title="Derived Classes" />
                    <SectionContent Outlined="true" IsApiSection="true">
                        <MudGrid Class="pa-0">
                            <MudItem xs="12">
                                <ApiTypeTable BaseTypeName="@TypeName" />
                            </MudItem>
                        </MudGrid>
                    </SectionContent>
                </DocsPageSection>
            }

            @*  @if (DocumentedType.GlobalSettings.Count > 0)
        {
        <DocsPageSection>
        <SectionHeader Title="Global Settings" />
        <SectionContent Outlined="true" IsApiSection="true">
        <MudGrid Class="pa-0">
        <MudItem xs="12">
        <ApiGlobalSettingTable Type="@DocumentedType" />
        </MudItem>
        </MudGrid>
        </SectionContent>
        </DocsPageSection>
        } *@
        </DocsPageContent>
    }
    else
    {
        <DocsPageHeader Title="@(TypeName + " Not Found")" />
        <DocsPageContent>
            <MudGrid>
                <MudItem xs="12">
                    <MudAlert Severity="Severity.Warning">Sorry, the type @TypeName was not found.</MudAlert>
                </MudItem>
            </MudGrid>
        </DocsPageContent>
    }
    </DocsPage>
