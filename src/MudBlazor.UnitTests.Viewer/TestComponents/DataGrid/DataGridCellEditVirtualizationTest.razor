@namespace MudBlazor.UnitTests.TestComponents
@using Microsoft.AspNetCore.Components.Web.Virtualization;
<MudDataGrid T="Model" ItemsProvider="@itemsProvider" Virtualize="true" ReadOnly="false" EditMode="@DataGridEditMode.Cell">
    <Columns>
        <PropertyColumn Property="x => x.Name" />
        <PropertyColumn Property="x => x.Age" />
    </Columns>
</MudDataGrid>

@code {
    private IEnumerable<Model> _items = new List<Model>()
    {
        new Model("John", 45), 
        new Model("Johanna", 23), 
        new Model("Steve", 32)
    };

    public record Model(string Name, int Age);

    GridItemsProvider<Model> itemsProvider;

    protected override void OnInitialized()
    {

        itemsProvider = async request =>
       {
           var result = _items;

           result = result.Skip(request.StartIndex).ToList();

           if (request.Count.HasValue)
           {
               result = result.Take(request.Count.Value);
           };

           return new ItemsProviderResult<Model>(result, _items.ToList().Count);
       };
    }
}
