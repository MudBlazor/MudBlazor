@namespace MudBlazor.UnitTests.TestComponents
@using System.Collections.ObjectModel

<MudIconButton Icon="@Icons.Outlined.Add" OnClick="@AddPerson"/>

<MudDataGrid T="Model" Items="@_items" Groupable="true">
    <Columns>
        <Column T="Model" Field="@nameof(Model.Name)" />
        <Column T="Model" Field="@nameof(Model.Age)" />
        <Column T="Model" Field="@nameof(Model.Gender)" />
    </Columns>
</MudDataGrid>

@code {
    private IEnumerable<Model> _items = Enumerable.Empty<Model>();
    private List<Model> _modifiableItems = new List<Model>()
    {
        new Model("John", 45, "Male"), 
        new Model("Johanna", 23, "Female"), 
        new Model("Steve", 32, "Male")
    };

    public record Model(string Name, int Age, string Gender);

    protected override void OnInitialized()
    {
        _items = _modifiableItems;
    }

    private void AddPerson()
    {
        _modifiableItems.Add(new Model("Someone", 42, "Female"));
        _items = _modifiableItems.AsEnumerable();

        //grid.GroupItems();
    }
}
