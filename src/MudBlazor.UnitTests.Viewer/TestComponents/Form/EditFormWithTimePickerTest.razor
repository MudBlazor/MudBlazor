@namespace MudBlazor.UnitTests.TestComponents
@using System.ComponentModel.DataAnnotations;

<EditForm Model="@model">
    <DataAnnotationsValidator />
    <MudTimePicker Required="true" @bind-Time="@model.Time" For="@(() => model.Time)" Editable="@EnableEditable" />
    <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled">Submit</MudButton>
</EditForm>

<MudButton OnClick="ToggleEditable">Toggle editable? @EnableEditable</MudButton>
@code {
    public static string __description__ = "Form should validate date picker's date.";

    private readonly Test model = new Test();

    private class Test
    {
        [Required]
        public TimeSpan? Time{ get; set; }
    }

    [Parameter]
    public bool EnableEditable { get; set; }

    public async Task ModifyTime(TimeSpan? time)
    {
        model.Time = time;
        await InvokeAsync(StateHasChanged);
    }

    private void ToggleEditable() => EnableEditable = !EnableEditable;
}
